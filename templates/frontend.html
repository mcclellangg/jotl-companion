<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://unpkg.com/chota@latest">
    <style>
        body.dark {
            --bg-color: #000;
            --bg-secondary-color: #131316;
            --font-color: #f5f5f5;
            --color-grey: #ccc;
            --color-darkGrey: #777;
        }
    </style>
</head>

<body class="dark">
    <form id="characterForm" method="post">
        <fieldset>
            <legend>Character Sheet</legend>
            <p>
                <label>Items</label>
                <input type="text" name="items" required>
            </p>
            <p>
                <label>Gold</label>
                <input type="number" name="gold" required>
            </p>
            <p>
                <label>Experience</label>
                <input type="number" name="exp" required>
            </p>
            <p>
                <button onclick="getFormData(event)" class="button" type="button">Download JSON</button>
            </p>
        </fieldset>
    </form>
</body>
<script>
            function getFormData(event) {
                    // Generated with Claude - https://claude.ai/public/artifacts/00cd9bfc-4e20-4bdd-ae5f-5546ae039796
                    // Prevent form submission if called from submit button
                    if (event) {
                        event.preventDefault();
                    }

                    // Get form element
                    const form = document.getElementById('characterForm');
                    const formData = new FormData(form);

                    // Convert FormData to regular object
                    const data = {};
                    for (let [key, value] of formData.entries()) {
                        // Convert numeric fields to numbers
                        if (key === 'gold' || key === 'exp') {
                            data[key] = parseInt(value) || 0;
                        } else {
                            data[key] = value;
                        }
                    }

                    // Add timestamp
                    data.timestamp = new Date().toISOString();

                    // Convert to JSON string
                    const jsonString = JSON.stringify(data, null, 2);

                    // Create blob and download link
                    const blob = new Blob([jsonString], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);

                    // Create temporary download link
                    const downloadLink = document.createElement('a');
                    downloadLink.href = url;
                    downloadLink.download = `character_sheet_${new Date().toISOString().split('T')[0]}.json`;

                    // Trigger download
                    document.body.appendChild(downloadLink);
                    downloadLink.click();

                    // Clean up
                    document.body.removeChild(downloadLink);
                    URL.revokeObjectURL(url);

                    console.log("Downloaded character sheet data:", data);
                }
</script>

</html>